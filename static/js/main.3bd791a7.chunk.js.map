{"version":3,"sources":["constants.js","requests/index.js","components/MenuBar/MenuBar.jsx","components/InfoIcon/utils.js","components/InfoIcon/InfoIcon.jsx","components/Video/VideoElement.jsx","components/Video/Video.jsx","components/Hashtag/Hashtag.jsx","components/AvatarLink/AvatarLink.jsx","components/Post/Post.jsx","components/Post/utils.js","pages/Trending/Trending.jsx","components/UserProfile/UserProfile.jsx","components/VideoGrid/VideoGrid.jsx","pages/UserDetails/UserDetails.jsx","App.jsx","index.jsx"],"names":["GLOBAL_CONSTANTS","URLS","TRENDING_FEED","USER_FEED","USER_INFO","HEADERS","options","url","method","headers","userInfoUrl","MenuBar","navigate","useNavigate","useState","userAvatar","setUserAvatar","defaultUser","useEffect","axios","request","then","response","data","user","avatarThumb","catch","error","console","AppBar","position","Toolbar","sx","justifyContent","Typography","variant","component","onClick","replace","IconButton","size","color","Avatar","alt","src","numberToText","number","Math","floor","InfoIcon","disabled","className","icon","text","fontSize","iconSize","sxObject","textNumber","disableRipple","disableFocusRipple","classnames","Icon","defaultProps","React","useRef","VideoElement","videoUrl","isLoad","playOnView","muted","isPlay","setIsPlay","videoElement","useInView","threshold","ref","inView","entry","current","play","pause","onVideoClick","buttonClasses","loop","Video","setIsLoad","rootMargin","triggerOnce","containerClasses","Hashtag","name","Link","href","underline","AvatarLink","nickName","avatar","avatarLinkClasses","Post","properties","videoMeta","authorMeta","diggCount","commentCount","hashtags","postHeight","setPostHeight","height","window","innerHeight","postStyles","width","style","map","id","undefined","trendingFeedUrl","Trending","posts","setPosts","element","key","UserProfile","stats","bioLink","uniqueId","nickname","avatarLarger","signature","link","userInfo","followingCount","followerCount","videoCount","heartCount","statsInfo","VideoGrid","videos","playCount","controls","videoContainer","UserDetails","useParams","setUserInfo","setVideos","App","path","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.3bd791a7.chunk.js","sourcesContent":["export const GLOBAL_CONSTANTS = {\r\n  USER_ID: 'dave.xp',\r\n  API: {\r\n    URLS: {\r\n      TRENDING_FEED: 'https://tiktok33.p.rapidapi.com/trending/feed',\r\n      USER_FEED: 'https://tiktok33.p.rapidapi.com/user/feed/',\r\n      USER_INFO: 'https://tiktok33.p.rapidapi.com/user/info/',\r\n    },\r\n    HEADERS: {\r\n      'x-rapidapi-host': 'tiktok33.p.rapidapi.com',\r\n      'x-rapidapi-key':\r\n                'c1257dc04cmshd888bbb072eb770p1f2b8ajsnbf16d4cd1d66',\r\n      // 'x-rapidapi-host': 'tiktok33.p.rapidapi.com',\r\n      // 'x-rapidapi-key': '9c8f4774d9msh89641571722eec4p101783jsn3aa9bb423412'\r\n    },\r\n  },\r\n}\r\n","import { GLOBAL_CONSTANTS } from '../constants'\r\n\r\nconst {\r\n  API: { HEADERS },\r\n} = GLOBAL_CONSTANTS\r\nexport const options = (url, method = 'GET', headers = {}) => ({\r\n  method,\r\n  url,\r\n  headers: { ...HEADERS, ...headers },\r\n})\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport {\r\n  Avatar, AppBar, Toolbar, Typography, IconButton,\r\n} from '@mui/material'\r\nimport AccountCircle from '@mui/icons-material/AccountCircle'\r\n\r\nimport { GLOBAL_CONSTANTS } from '../../constants'\r\nimport { options } from '../../requests'\r\n\r\nconst userInfoUrl = GLOBAL_CONSTANTS.API.URLS.USER_INFO\r\n\r\nconst MenuBar = function () {\r\n  const navigate = useNavigate()\r\n  const [userAvatar, setUserAvatar] = useState('')\r\n\r\n  const defaultUser = GLOBAL_CONSTANTS.USER_ID\r\n  useEffect(() => {\r\n    axios\r\n      .request(options(userInfoUrl + defaultUser))\r\n      .then((response) => {\r\n        setUserAvatar(response.data.user.avatarThumb)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <AppBar position=\"fixed\">\r\n      <Toolbar sx={{ justifyContent: 'space-between' }}>\r\n        <Typography\r\n          variant=\"h6\"\r\n          component=\"div\"\r\n          onClick={() => navigate('/', { replace: true })}\r\n        >\r\n          TikTuk\r\n        </Typography>\r\n        <div>\r\n          <IconButton\r\n            size=\"large\"\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={() => navigate(`/user/${defaultUser}`, { replace: true })}\r\n            color=\"inherit\"\r\n          >\r\n            {userAvatar ? (\r\n              <Avatar alt={defaultUser} src={userAvatar} />\r\n            ) : (\r\n              <AccountCircle />\r\n            )}\r\n          </IconButton>\r\n        </div>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\nexport default MenuBar\r\n","export const numberToText = (number) => {\r\n  if (!number) return\r\n\r\n  switch (true) {\r\n    case number < 1000:\r\n      return number\r\n    case number < 1_000_000:\r\n      return `${Math.floor(number / 1000)}k`\r\n    default:\r\n      return `${Math.floor(number / 1_000_000)}m`\r\n  }\r\n}\r\n","import React from 'react'\r\nimport propTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport { IconButton, Icon } from '@mui/material'\r\n\r\nimport { numberToText } from './utils'\r\n\r\nconst InfoIcon = function ({\r\n  disabled,\r\n  className,\r\n  icon,\r\n  number,\r\n  color,\r\n  text,\r\n  fontSize,\r\n  iconSize,\r\n}) {\r\n  const sxObject = iconSize ? { fontSize: iconSize } : {}\r\n  const textNumber = numberToText(number)\r\n  return (\r\n    <IconButton\r\n      disableRipple={disabled}\r\n      disableFocusRipple={disabled}\r\n      color={color}\r\n      aria-label=\"upload picture\"\r\n      component=\"span\"\r\n      className={classnames(className, 'info-icon-container')}\r\n    >\r\n      <Icon fontSize={fontSize} sx={sxObject}>\r\n        {icon}\r\n      </Icon>\r\n      {text && (\r\n      <span className=\"info-icon-text\">\r\n        {text}\r\n        :\r\n      </span>\r\n      )}\r\n      {textNumber && <span className=\"info-icon-text\">{textNumber}</span>}\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nInfoIcon.defaultProps = {\r\n  icon: 'favorite',\r\n  color: 'error',\r\n  fontSize: 'medium',\r\n  number: 0,\r\n  text: '',\r\n  iconSize: 0,\r\n  className: '',\r\n  disabled: false,\r\n}\r\n\r\nInfoIcon.propTypes = {\r\n  icon: propTypes.string,\r\n  number: propTypes.number,\r\n  text: propTypes.string,\r\n  color: propTypes.oneOf([\r\n    'inherit',\r\n    'default',\r\n    'primary',\r\n    'secondary',\r\n    'error',\r\n    'info',\r\n    'success',\r\n    'warning',\r\n  ]),\r\n  fontSize: propTypes.oneOf(['inherit', 'large', 'medium', 'small']),\r\n  iconSize: propTypes.number,\r\n  className: propTypes.string,\r\n  disabled: propTypes.bool,\r\n}\r\n\r\nexport default InfoIcon\r\n","import React from 'react'\r\n\r\nimport propTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport { useInView } from 'react-intersection-observer'\r\nimport InfoIcon from '../InfoIcon/InfoIcon'\r\n\r\nconst { useEffect, useRef, useState } = React\r\n\r\nconst VideoElement = function ({\r\n  videoUrl, isLoad, playOnView, muted,\r\n}) {\r\n  const [isPlay, setIsPlay] = useState(false)\r\n  const videoElement = useRef(null)\r\n\r\n  const { ref, inView, entry } = useInView({\r\n    threshold: 0.6,\r\n  })\r\n\r\n  useEffect(() => {\r\n    setIsPlay(isLoad && playOnView)\r\n  }, [isLoad, playOnView])\r\n\r\n  useEffect(() => {\r\n    // const isFullyVisible = entry && entry.intersectionRatio > 0.6\r\n    if (!playOnView || !isPlay) return\r\n\r\n    if (inView) videoElement.current.play()\r\n    else videoElement.current.pause()\r\n  }, [inView, playOnView, videoUrl, isPlay, entry])\r\n\r\n  const onVideoClick = () => {\r\n    if (isPlay) videoElement.current.pause()\r\n    else videoElement.current.play()\r\n\r\n    setIsPlay(!isPlay)\r\n  }\r\n\r\n  const buttonClasses = classnames('video-button', {\r\n    '--display': playOnView && !isPlay && isLoad,\r\n  })\r\n\r\n  return (\r\n    <div className=\"video-element-container\" ref={ref}>\r\n      <video\r\n        muted={muted}\r\n        loop\r\n        onClick={onVideoClick}\r\n        src={isLoad ? videoUrl : ''}\r\n        ref={videoElement}\r\n      >\r\n        {' '}\r\n      </video>\r\n      <div className={buttonClasses} onClick={onVideoClick}>\r\n        <InfoIcon\r\n          color=\"default\"\r\n          icon=\"play_arrow\"\r\n          iconSize={100}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nVideoElement.defaultProps = {\r\n  muted: true,\r\n  isLoad: false,\r\n  playOnView: true,\r\n  videoUrl:\r\n        'https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr=',\r\n}\r\n\r\nVideoElement.propTypes = {\r\n  videoUrl: propTypes.string,\r\n  playOnView: propTypes.bool,\r\n  muted: propTypes.bool,\r\n  isLoad: propTypes.bool,\r\n}\r\n\r\nexport default VideoElement\r\n","import React, { useEffect, useState } from 'react'\r\nimport propTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport { useInView } from 'react-intersection-observer'\r\n\r\nimport VideoElement from './VideoElement'\r\n\r\nconst Video = function ({\r\n  muted, playOnView, videoUrl, className,\r\n}) {\r\n  const [isLoad, setIsLoad] = useState(false)\r\n\r\n  const { ref, inView } = useInView({\r\n    rootMargin: '100px',\r\n    triggerOnce: true,\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (inView && !isLoad) setIsLoad(true)\r\n  }, [inView, isLoad])\r\n\r\n  const containerClasses = classnames(\r\n    { [className]: true },\r\n    'video-container',\r\n  )\r\n\r\n  return (\r\n    <div className={containerClasses} ref={ref}>\r\n      <VideoElement\r\n        videoUrl={videoUrl}\r\n        isLoad={isLoad}\r\n        playOnView={playOnView}\r\n        muted={muted}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nVideo.defaultProps = {\r\n  playOnView: false,\r\n  className: '',\r\n  muted: true,\r\n  videoUrl:\r\n        'https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr=',\r\n}\r\n\r\nVideo.propTypes = {\r\n  videoUrl: propTypes.string,\r\n  className: propTypes.string,\r\n  playOnView: propTypes.bool,\r\n  muted: propTypes.bool,\r\n}\r\n\r\nexport default Video\r\n","import React from 'react'\r\nimport propTypes from 'prop-types'\r\nimport { Link } from '@mui/material'\r\n\r\nconst Hashtag = function ({ name }) {\r\n  return (\r\n    <span>\r\n      <Link component=\"button\" href=\"#\" disabled underline=\"hover\">\r\n        #\r\n        {name}\r\n      </Link>\r\n      {' '}\r\n    </span>\r\n  )\r\n}\r\n\r\nHashtag.defaultProps = {\r\n  name: '',\r\n}\r\n\r\nHashtag.propTypes = {\r\n  name: propTypes.string,\r\n}\r\n\r\nexport default Hashtag\r\n","import React from 'react'\r\nimport propTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport { Avatar, Link } from '@mui/material'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst AvatarLink = function ({\r\n  name, nickName, avatar, className,\r\n}) {\r\n  const navigate = useNavigate()\r\n\r\n  const avatarLinkClasses = classnames(\r\n    { [`${className}`]: true },\r\n    'avatar-link-container',\r\n  )\r\n\r\n  return (\r\n    <div\r\n      className={avatarLinkClasses}\r\n      onClick={() => navigate(`/user/${name}`, { replace: true })}\r\n    >\r\n      <Avatar alt={nickName} src={avatar} className=\"avatar-icon\" />\r\n      <div className=\"avatar-text\">\r\n        <Link href=\"#\" underline=\"hover\">\r\n          {name}\r\n        </Link>\r\n        <span className=\"avatar-nickname\">{nickName}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nAvatarLink.defaultProps = {\r\n  className: '',\r\n  name: 'dave.xp',\r\n  nickName: 'Dave XP',\r\n  avatar: 'https://p16-sign-va.tiktokcdn.com/tos-maliva-avt-0068/8dedfc004fb5d07eb5bda02770d198cd~c5_100x100.jpeg?x-expires=1637082000&x-signature=8iQRSKQWKaCtmkpDCoW487iD7hc%3D',\r\n}\r\n\r\nAvatarLink.propTypes = {\r\n  name: propTypes.string,\r\n  nickName: propTypes.string,\r\n  avatar: propTypes.string,\r\n  className: propTypes.string,\r\n}\r\n\r\nexport default AvatarLink\r\n","import React, { useEffect, useState } from 'react'\r\nimport propTypes from 'prop-types'\r\nimport Typography from '@mui/material/Typography'\r\nimport Video from '../Video/Video'\r\nimport Hashtag from '../Hashtag/Hashtag'\r\nimport InfoIcon from '../InfoIcon/InfoIcon'\r\nimport AvatarLink from '../AvatarLink/AvatarLink'\r\nimport { calculateHeight } from './utils'\r\n\r\nconst Post = function (properties) {\r\n  const {\r\n    videoUrl,\r\n    videoMeta,\r\n    text,\r\n    authorMeta,\r\n    diggCount,\r\n    commentCount,\r\n    hashtags,\r\n  } = properties\r\n  const [postHeight, setPostHeight] = useState(300)\r\n\r\n  useEffect(() => {\r\n    const height = calculateHeight()\r\n    setPostHeight(height)\r\n  }, [])\r\n\r\n  const postStyles = {\r\n    height: postHeight,\r\n    width: (postHeight * 9) / 8 + 20,\r\n  }\r\n\r\n  if (!videoMeta) return <></>\r\n\r\n  return (\r\n    <div className=\"post-container\" style={postStyles}>\r\n      <Video {...videoMeta} videoUrl={videoUrl} playOnView />\r\n      <div className=\"post-info-container\">\r\n        {authorMeta && <AvatarLink {...authorMeta} />}\r\n\r\n        <hr className=\"post-divider\" />\r\n        <Typography\r\n          variant=\"body1\"\r\n          component=\"div\"\r\n          className=\"post-text\"\r\n        >\r\n          {text}\r\n        </Typography>\r\n        <div className=\"post-hashtags\">\r\n          {hashtags.map(({ id, name }) => (\r\n            <Hashtag name={name} key={id} />\r\n          ))}\r\n        </div>\r\n\r\n        <hr className=\"post-divider\" />\r\n        <div className=\"post-reactions\">\r\n          <InfoIcon number={diggCount} />\r\n          <InfoIcon\r\n            icon=\"forum\"\r\n            color=\"primary\"\r\n            number={commentCount}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nPost.defaultProps = {\r\n  hashtags: [],\r\n  diggCount: 0,\r\n  commentCount: 0,\r\n  videoMeta: undefined,\r\n  videoUrl: '',\r\n  authorMeta: undefined,\r\n  text: undefined,\r\n}\r\n\r\nPost.propTypes = {\r\n  videoMeta: propTypes.shape({\r\n    duration: propTypes.number,\r\n    height: propTypes.number,\r\n    width: propTypes.number,\r\n  }),\r\n  videoUrl: propTypes.string,\r\n  authorMeta: propTypes.objectOf(AvatarLink),\r\n  text: propTypes.string,\r\n  diggCount: propTypes.number,\r\n  commentCount: propTypes.number,\r\n  hashtags: propTypes.arrayOf(\r\n    propTypes.shape({\r\n      id: propTypes.string,\r\n      name: propTypes.string,\r\n    }),\r\n  ),\r\n}\r\n\r\nexport default Post\r\n","export const calculateHeight = () => {\r\n  // 64x - MenuBar\r\n  const pageHeight = window.innerHeight - 64\r\n  return pageHeight * 0.9\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { options } from '../../requests'\r\nimport Post from '../../components/Post/Post'\r\nimport { GLOBAL_CONSTANTS } from '../../constants'\r\n\r\nconst trendingFeedUrl = GLOBAL_CONSTANTS.API.URLS.TRENDING_FEED\r\n\r\nconst Trending = function () {\r\n  const [posts, setPosts] = useState([])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .request(options(trendingFeedUrl))\r\n      .then((response) => {\r\n        setPosts(response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {posts.map((element) => (\r\n        <Post {...element} key={element.id} />\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Trending\r\n","import React from 'react'\r\nimport { Typography, Link } from '@mui/material'\r\nimport propTypes from 'prop-types'\r\nimport AvatarLink from '../AvatarLink/AvatarLink'\r\nimport InfoIcon from '../InfoIcon/InfoIcon'\r\n\r\nconst UserProfile = function ({ stats, user }) {\r\n  const userInfo = () => {\r\n    if (!user) return <></>\r\n\r\n    const {\r\n      bioLink, uniqueId, nickname, avatarLarger, signature,\r\n    } = user\r\n\r\n    return (\r\n      <>\r\n        <AvatarLink\r\n          className=\"profile-avatar\"\r\n          name={uniqueId}\r\n          nickName={nickname}\r\n          avatar={avatarLarger}\r\n        />\r\n        <Typography variant=\"body1\" component=\"p\">\r\n          {signature}\r\n        </Typography>\r\n        {bioLink && <Link href={bioLink.link}>{bioLink.link}</Link>}\r\n      </>\r\n    )\r\n  }\r\n\r\n  const statsInfo = () => {\r\n    if (!stats) return <></>\r\n\r\n    const {\r\n      followingCount, followerCount, videoCount, heartCount,\r\n    } = stats\r\n    return (\r\n      <div className=\"profile-icon-group\">\r\n        <InfoIcon disabled number={heartCount} text=\"Hearts\" />\r\n        <InfoIcon\r\n          number={videoCount}\r\n          text=\"Videos\"\r\n          icon=\"play_circle\"\r\n          color=\"info\"\r\n        />\r\n        <InfoIcon\r\n          number={followerCount}\r\n          text=\"Followers\"\r\n          icon=\"visibility\"\r\n          color=\"success\"\r\n        />\r\n        <InfoIcon\r\n          number={followingCount}\r\n          text=\"Following\"\r\n          icon=\"face\"\r\n          color=\"default\"\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {userInfo()}\r\n      {statsInfo()}\r\n    </div>\r\n  )\r\n}\r\n\r\nUserProfile.defaultProps = {\r\n  stats: undefined,\r\n  user: undefined,\r\n}\r\n\r\nUserProfile.propTypes = {\r\n  stats: propTypes.shape({\r\n    diggCount: propTypes.number,\r\n    followerCount: propTypes.number,\r\n    followingCount: propTypes.number,\r\n    heartCount: propTypes.number,\r\n    videoCount: propTypes.number,\r\n  }),\r\n  user: propTypes.shape({\r\n    avatarLarger: propTypes.string,\r\n    avatarMedium: propTypes.string,\r\n    avatarThumb: propTypes.string,\r\n    bioLink: propTypes.shape({\r\n      link: propTypes.string,\r\n      risk: propTypes.number,\r\n    }),\r\n    id: propTypes.string,\r\n    nickname: propTypes.string,\r\n    uniqueId: propTypes.string,\r\n    verified: propTypes.bool,\r\n    signature: propTypes.string,\r\n  }),\r\n}\r\n\r\nexport default UserProfile\r\n","import React from 'react'\r\nimport propTypes from 'prop-types'\r\nimport { Icon } from '@mui/material'\r\nimport Video from '../Video/Video'\r\nimport { numberToText } from '../InfoIcon/utils'\r\n\r\nconst VideoGrid = function ({ videos }) {\r\n  const videoContainer = ({ videoUrl, playCount }) => (\r\n    <div className=\"user-video-container\" key={videoUrl}>\r\n      <Video\r\n        controls={false}\r\n        videoUrl={videoUrl}\r\n        className=\"user-video-display\"\r\n      />\r\n      <div className=\"user-video-info\">\r\n        <Icon fontSize=\"large\">play_arrow</Icon>\r\n        <span>{numberToText(playCount)}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"video-grid\">\r\n      {videos && videos.map((element) => videoContainer(element))}\r\n    </div>\r\n  )\r\n}\r\n\r\nVideoGrid.defaultProps = {\r\n  videos: undefined,\r\n}\r\n\r\nVideoGrid.propTypes = {\r\n  videos: propTypes.arrayOf(\r\n    propTypes.shape({\r\n      videoUrl: propTypes.string,\r\n      playCount: propTypes.number,\r\n    }),\r\n  ),\r\n}\r\n\r\nexport default VideoGrid\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport axios from 'axios'\r\nimport { options } from '../../requests'\r\nimport { GLOBAL_CONSTANTS } from '../../constants'\r\nimport UserProfile from '../../components/UserProfile/UserProfile'\r\nimport VideoGrid from '../../components/VideoGrid/VideoGrid'\r\n\r\nconst { USER_INFO, TRENDING_FEED } = GLOBAL_CONSTANTS.API.URLS\r\nconst UserDetails = function () {\r\n  const { uniqueId } = useParams()\r\n  const [userInfo, setUserInfo] = useState()\r\n  const [videos, setVideos] = useState([])\r\n\r\n  const getUserInfo = () => {\r\n    axios\r\n      .request(options(USER_INFO + uniqueId))\r\n      .then((response) => {\r\n        setUserInfo(response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n  }\r\n\r\n  const getUserFeed = () => {\r\n    axios\r\n      .request(options(TRENDING_FEED))\r\n      .then((response) => {\r\n        setVideos(response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    getUserInfo()\r\n    getUserFeed()\r\n  }, [uniqueId])\r\n\r\n  return (\r\n    <div>\r\n      <UserProfile {...userInfo} />\r\n      <VideoGrid videos={videos} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserDetails\r\n","import React from 'react'\r\nimport './App.css'\r\nimport { MemoryRouter, Routes, Route } from 'react-router-dom'\r\nimport MenuBar from './components/MenuBar/MenuBar'\r\n\r\nimport Trending from './pages/Trending/Trending'\r\nimport UserDetails from './pages/UserDetails/UserDetails'\r\n\r\nconst App = function () {\r\n  return (\r\n    <MemoryRouter>\r\n      <div className=\"App\">\r\n        <MenuBar />\r\n\r\n        <Routes>\r\n          <Route path=\"/\" element={<Trending />} />\r\n          <Route path=\"/user\">\r\n            <Route path=\":uniqueId\" element={<UserDetails />} />\r\n          </Route>\r\n        </Routes>\r\n      </div>\r\n    </MemoryRouter>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.querySelector('#root'),\r\n)\r\n"],"sourceRoot":""}