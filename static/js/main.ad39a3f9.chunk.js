(this["webpackJsonptik-tuk"]=this["webpackJsonptik-tuk"]||[]).push([[0],{103:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(59),s=c.n(r),i=(c(75),c(76),c(5)),o=c(124),j=c(128),l=c(126),d=c(123),u=c(65),b=c.n(u),O=c(67),f="dave.xp",p={URLS:{TRENDING_FEED:"https://tiktok33.p.rapidapi.com/trending/feed",USER_FEED:"https://tiktok33.p.rapidapi.com/user/feed/",USER_INFO:"https://tiktok33.p.rapidapi.com/user/info/"},HEADERS:{"x-rapidapi-host":"tiktok33.p.rapidapi.com","x-rapidapi-key":"c1257dc04cmshd888bbb072eb770p1f2b8ajsnbf16d4cd1d66"}},v=c(24),h=c.n(v),x=c(18),m=p,N=m.HEADERS,k=(m.URLS,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{method:t,url:e,headers:Object(x.a)(Object(x.a)({},N),c)}}),g=c(127),E=c(1),S=p.URLS.USER_INFO;function y(){var e=Object(O.d)(),t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],r=c[1],s=f;return Object(a.useEffect)((function(){h.a.request(k(S+s)).then((function(e){r(e.data.user.avatarThumb)})).catch((function(e){console.error(e)}))}),[]),Object(E.jsx)(o.a,{position:"fixed",children:Object(E.jsxs)(j.a,{sx:{justifyContent:"space-between"},children:[Object(E.jsx)(l.a,{variant:"h6",component:"div",onClick:function(){return e("/",{replace:!0})},children:"TikTuk"}),Object(E.jsx)("div",{children:Object(E.jsx)(d.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){return e("/user/".concat(s),{replace:!0})},color:"inherit",children:n?Object(E.jsx)(g.a,{alt:s,src:n}):Object(E.jsx)(b.a,{})})})]})})}var R=c(25),C=c.n(R),w=c(9),U=c(129),z=function(e){if(e)switch(!0){case e<1e3:return e;case e<1e6:return Math.floor(e/1e3)+"k";default:return Math.floor(e/1e6)+"m"}},F=function(e){var t=e.disabled,c=e.className,a=e.icon,n=e.number,r=e.color,s=e.text,i=e.fontSize,o=e.iconSize,j=o?{fontSize:o}:{},l=z(n);return Object(E.jsxs)(d.a,{disableRipple:t,disableFocusRipple:t,color:r,"aria-label":"upload picture",component:"span",className:C()(c,"info-icon-container"),children:[Object(E.jsx)(U.a,{fontSize:i,sx:j,children:a}),s&&Object(E.jsxs)("span",{className:"info-icon-text",children:[s,":"]}),l&&Object(E.jsx)("span",{className:"info-icon-text",children:l})]})};F.defaultProps={icon:"favorite",color:"error",fontSize:"medium"};var D=F,_=c(66),I=function(e){e.playOnView;var t=e.videoUrl,c=e.className,n=e.controls,r=Object(a.useState)(!1),s=Object(i.a)(r,2),o=(s[0],s[1],Object(a.useState)(!1)),j=Object(i.a)(o,2),l=j[0],d=(j[1],Object(a.useRef)(null)),u=Object(_.a)({rootMargin:"100px"}),b=u.ref,O=u.inView;u.entry;Object(a.useEffect)((function(){O?(console.log(!0,t),d.current.play()):(d.current.pause(),console.log(!1,t))}),[O,d]);var f=C()(Object(w.a)({},c,!0),"video-container"),p=C()("video-button",{"--display":l});return Object(E.jsxs)("div",{className:f,onClick:function(){},ref:b,children:[Object(E.jsx)("video",{controls:n,src:O?t:"",ref:d,children:" "}),Object(E.jsx)("div",{className:p,children:Object(E.jsx)(D,{color:"default",icon:"play_arrow",iconSize:100})})]})};I.defaultProps={controls:!0,duration:11,height:1024,width:576,videoUrl:"https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr="};var M=I,q=c(130),T=function(e){var t=e.name;return Object(E.jsxs)("span",{children:[Object(E.jsxs)(q.a,{component:"button",href:"#",disabled:!0,underline:"hover",children:["#",t]})," "]})};T.defaultProps={name:""};var L=T,G=function(e){var t=e.name,c=e.nickName,a=e.avatar,n=e.className,r=Object(O.d)(),s=C()(Object(w.a)({},"".concat(n),!0),"avatar-link-container");return Object(E.jsxs)("div",{className:s,onClick:function(){return r("/user/".concat(t),{replace:!0})},children:[Object(E.jsx)(g.a,{alt:c,src:a,className:"avatar-icon"}),Object(E.jsxs)("div",{className:"avatar-text",children:[Object(E.jsx)(q.a,{href:"#",underline:"hover",children:t}),Object(E.jsx)("span",{className:"avatar-nickname",children:c})]})]})};G.defaultProps={name:"dave.xp",nickName:"Dave XP",avatar:"https://p16-sign-va.tiktokcdn.com/tos-maliva-avt-0068/8dedfc004fb5d07eb5bda02770d198cd~c5_100x100.jpeg?x-expires=1637082000&x-signature=8iQRSKQWKaCtmkpDCoW487iD7hc%3D"};var P=G,A=function(e){var t=e.videoUrl,c=e.videoMeta,n=e.text,r=e.authorMeta,s=e.diggCount,o=e.commentCount,j=e.hashtags,d=Object(a.useState)(300),u=Object(i.a)(d,2),b=u[0],O=u[1];Object(a.useEffect)((function(){var e=function(){var e=window.innerHeight-64;return console.log(e,.8*e),.9*e}();O(e)}),[]);var f={height:b,width:9*b/8+20};return c?Object(E.jsxs)("div",{className:"post-container",style:f,children:[Object(E.jsx)(M,Object(x.a)(Object(x.a)({},c),{},{videoUrl:t})),Object(E.jsxs)("div",{className:"post-info-container",children:[r&&Object(E.jsx)(P,Object(x.a)({},r)),Object(E.jsx)("hr",{className:"post-divider"}),Object(E.jsx)(l.a,{variant:"body1",component:"div",className:"post-text",children:n}),Object(E.jsx)("div",{className:"post-hashtags",children:j.map((function(e){var t=e.id,c=e.name;return Object(E.jsx)(L,{name:c},t)}))}),Object(E.jsx)("hr",{className:"post-divider"}),Object(E.jsxs)("div",{className:"post-reactions",children:[Object(E.jsx)(D,{number:s}),Object(E.jsx)(D,{icon:"forum",color:"primary",number:o})]})]})]}):Object(E.jsx)(E.Fragment,{})};A.defaultProps={hashtags:[],diggCount:0,commentCount:0};var H=A,Q=p.URLS.TRENDING_FEED,Z=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){h.a.request(k(Q)).then((function(e){n(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(E.jsx)(E.Fragment,{children:c.map((function(e){return Object(a.createElement)(H,Object(x.a)(Object(x.a)({},e),{},{key:e.id}))}))})},V=function(e){var t=e.stats,c=e.user;return Object(E.jsxs)("div",{children:[function(){if(!c)return Object(E.jsx)(E.Fragment,{});var e=c.bioLink;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P,{className:"profile-avatar",name:c.uniqueId,nickName:c.nickname,avatar:c.avatarLarger}),Object(E.jsx)(l.a,{variant:"body1",component:"p",children:c.signature}),e&&Object(E.jsx)(q.a,{href:e.link,children:e.link})]})}(),function(){if(!t)return Object(E.jsx)(E.Fragment,{});var e=t.followingCount,c=t.followerCount,a=t.videoCount,n=t.heartCount;return Object(E.jsxs)("div",{className:"profile-icon-group",children:[Object(E.jsx)(D,{disabled:!0,number:n,text:"Hearts"}),Object(E.jsx)(D,{number:a,text:"Videos",icon:"play_circle",color:"info"}),Object(E.jsx)(D,{number:c,text:"Followers",icon:"visibility",color:"success"}),Object(E.jsx)(D,{number:e,text:"Following",icon:"face",color:"default"})]})}()]})},B=c(13),J=function(e){var t=e.videos;return Object(E.jsx)("div",{className:"video-grid",children:t&&t.map((function(e){var t=e.videoUrl,c=e.playCount;return Object(E.jsxs)("div",{className:"user-video-container",children:[Object(E.jsx)(M,{controls:!1,videoUrl:t,className:"user-video-display"}),Object(E.jsxs)("div",{className:"user-video-info",children:[Object(E.jsx)(U.a,{fontSize:"large",children:"play_arrow"}),Object(E.jsx)("span",{children:z(c)})]})]})}))})};J.protoTypes={videos:B.arrayOf(B.shape({videoUrl:B.string,playCount:B.number}))};var K=J,W=p.URLS,X=W.USER_INFO,Y=(W.USER_FEED,W.TRENDING_FEED),$=function(){var e=Object(O.e)().uniqueId,t=Object(a.useState)(null),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)([]),o=Object(i.a)(s,2),j=o[0],l=o[1];return Object(a.useEffect)((function(){h.a.request(k(X+e)).then((function(e){r(e.data)})).catch((function(e){console.error(e)})),h.a.request(k(Y)).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.error(e)}))}),[e]),Object(E.jsxs)("div",{children:[Object(E.jsx)(V,Object(x.a)({},n)),Object(E.jsx)(K,{videos:j})]})};var ee=function(){return Object(E.jsx)(O.a,{children:Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(y,{}),Object(E.jsxs)(O.c,{children:[Object(E.jsx)(O.b,{path:"/",element:Object(E.jsx)(Z,{})}),Object(E.jsx)(O.b,{path:"/user",children:Object(E.jsx)(O.b,{path:":uniqueId",element:Object(E.jsx)($,{})})})]})]})})};s.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(ee,{})}),document.getElementById("root"))},75:function(e,t,c){},76:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.ad39a3f9.chunk.js.map