(this["webpackJsonptik-tuk"]=this["webpackJsonptik-tuk"]||[]).push([[0],{103:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(59),i=c.n(r),s=(c(75),c(76),c(66)),o=c(5),d=c(26),j=c.n(d),l=c(120),u=c(124),b=c(122),O=c(119),v=c(123),f=c(65),p=c.n(f),m="dave.xp",x={URLS:{TRENDING_FEED:"https://tiktok33.p.rapidapi.com/trending/feed",USER_FEED:"https://tiktok33.p.rapidapi.com/user/feed/",USER_INFO:"https://tiktok33.p.rapidapi.com/user/info/"},HEADERS:{"x-rapidapi-host":"tiktok33.p.rapidapi.com","x-rapidapi-key":"c1257dc04cmshd888bbb072eb770p1f2b8ajsnbf16d4cd1d66"}},h=c(18),N=x.HEADERS,k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{method:t,url:e,headers:Object(h.a)(Object(h.a)({},N),c)}},g=c(1),S=x.URLS.USER_INFO,z=function(){var e=Object(s.d)(),t=Object(a.useState)(""),c=Object(o.a)(t,2),n=c[0],r=c[1],i=m;return Object(a.useEffect)((function(){j.a.request(k(S+i)).then((function(e){r(e.data.user.avatarThumb)})).catch((function(e){console.error(e)}))}),[]),Object(g.jsx)(l.a,{position:"fixed",children:Object(g.jsxs)(u.a,{sx:{justifyContent:"space-between"},children:[Object(g.jsx)(b.a,{variant:"h6",component:"div",onClick:function(){return e("/",{replace:!0})},children:"TikTuk"}),Object(g.jsx)("div",{children:Object(g.jsx)(O.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){return e("/user/".concat(i),{replace:!0})},color:"inherit",children:n?Object(g.jsx)(v.a,{alt:i,src:n}):Object(g.jsx)(p.a,{})})})]})})},w=c(9),E=c(24),y=c.n(E),C=c(40),U=c(125),R=function(e){if(e)switch(!0){case e<1e3:return e;case e<1e6:return"".concat(Math.floor(e/1e3),"k");default:return"".concat(Math.floor(e/1e6),"m")}},_=function(e){var t=e.disabled,c=e.className,a=e.icon,n=e.number,r=e.color,i=e.text,s=e.fontSize,o=e.iconSize,d=o?{fontSize:o}:{},j=R(n);return Object(g.jsxs)(O.a,{disableRipple:t,disableFocusRipple:t,color:r,"aria-label":"upload picture",component:"span",className:y()(c,"info-icon-container"),children:[Object(g.jsx)(U.a,{fontSize:s,sx:d,children:a}),i&&Object(g.jsxs)("span",{className:"info-icon-text",children:[i,":"]}),j&&Object(g.jsx)("span",{className:"info-icon-text",children:j})]})};_.defaultProps={icon:"favorite",color:"error",fontSize:"medium",number:0,text:"",iconSize:0,className:"",disabled:!1};var M=_,D=n.a.useEffect,F=n.a.useRef,q=n.a.useState,L=function(e){var t=e.videoUrl,c=e.isLoad,a=e.playOnView,n=e.muted,r=q(!1),i=Object(o.a)(r,2),s=i[0],d=i[1],j=F(null),l=Object(C.a)({threshold:.6}),u=l.ref,b=l.inView,O=l.entry;D((function(){d(c&&a)}),[c,a]),D((function(){a&&s&&(b?j.current.play():j.current.pause())}),[b,a,t,s,O]);var v=function(){s?j.current.pause():j.current.play(),d(!s)},f=y()("video-button",{"--display":a&&!s&&c});return Object(g.jsxs)("div",{className:"video-element-container",ref:u,children:[Object(g.jsx)("video",{muted:n,loop:!0,onClick:v,src:c?t:"",ref:j,children:" "}),Object(g.jsx)("div",{className:f,onClick:v,children:Object(g.jsx)(M,{color:"default",icon:"play_arrow",iconSize:100})})]})};L.defaultProps={muted:!0,isLoad:!1,playOnView:!0,videoUrl:"https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr="};var I=L,T=function(e){var t=e.muted,c=e.playOnView,n=e.videoUrl,r=e.className,i=Object(a.useState)(!1),s=Object(o.a)(i,2),d=s[0],j=s[1],l=Object(C.a)({rootMargin:"100px",triggerOnce:!0}),u=l.ref,b=l.inView;Object(a.useEffect)((function(){b&&!d&&j(!0)}),[b,d]);var O=y()(Object(w.a)({},r,!0),"video-container");return Object(g.jsx)("div",{className:O,ref:u,children:Object(g.jsx)(I,{videoUrl:n,isLoad:d,playOnView:c,muted:t})})};T.defaultProps={playOnView:!1,className:"",muted:!0,videoUrl:"https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr="};var P=T,V=c(126),G=function(e){var t=e.name;return Object(g.jsxs)("span",{children:[Object(g.jsxs)(V.a,{component:"button",href:"#",disabled:!0,underline:"hover",children:["#",t]})," "]})};G.defaultProps={name:""};var Z=G,A=function(e){var t=e.name,c=e.nickName,a=e.avatar,n=e.className,r=Object(s.d)(),i=y()(Object(w.a)({},"".concat(n),!0),"avatar-link-container");return Object(g.jsxs)("div",{className:i,onClick:function(){return r("/user/".concat(t),{replace:!0})},children:[Object(g.jsx)(v.a,{alt:c,src:a,className:"avatar-icon"}),Object(g.jsxs)("div",{className:"avatar-text",children:[Object(g.jsx)(V.a,{href:"#",underline:"hover",children:t}),Object(g.jsx)("span",{className:"avatar-nickname",children:c})]})]})};A.defaultProps={className:"",name:"dave.xp",nickName:"Dave XP",avatar:"https://p16-sign-va.tiktokcdn.com/tos-maliva-avt-0068/8dedfc004fb5d07eb5bda02770d198cd~c5_100x100.jpeg?x-expires=1637082000&x-signature=8iQRSKQWKaCtmkpDCoW487iD7hc%3D"};var Q=A,H=function(e){var t=e.videoUrl,c=e.videoMeta,n=e.text,r=e.authorMeta,i=e.diggCount,s=e.commentCount,d=e.hashtags,j=Object(a.useState)(300),l=Object(o.a)(j,2),u=l[0],O=l[1];Object(a.useEffect)((function(){var e=.9*(window.innerHeight-64);O(e)}),[]);var v={height:u,width:9*u/8+20};return c?Object(g.jsxs)("div",{className:"post-container",style:v,children:[Object(g.jsx)(P,Object(h.a)(Object(h.a)({},c),{},{videoUrl:t,playOnView:!0})),Object(g.jsxs)("div",{className:"post-info-container",children:[r&&Object(g.jsx)(Q,Object(h.a)({},r)),Object(g.jsx)("hr",{className:"post-divider"}),Object(g.jsx)(b.a,{variant:"body1",component:"div",className:"post-text",children:n}),Object(g.jsx)("div",{className:"post-hashtags",children:d.map((function(e){var t=e.id,c=e.name;return Object(g.jsx)(Z,{name:c},t)}))}),Object(g.jsx)("hr",{className:"post-divider"}),Object(g.jsxs)("div",{className:"post-reactions",children:[Object(g.jsx)(M,{number:i}),Object(g.jsx)(M,{icon:"forum",color:"primary",number:s})]})]})]}):Object(g.jsx)(g.Fragment,{})};H.defaultProps={hashtags:[],diggCount:0,commentCount:0,videoMeta:void 0,videoUrl:"",authorMeta:void 0,text:void 0};var Y=H,X=x.URLS.TRENDING_FEED,B=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){j.a.request(k(X)).then((function(e){n(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(g.jsx)(g.Fragment,{children:c.map((function(e){return Object(a.createElement)(Y,Object(h.a)(Object(h.a)({},e),{},{key:e.id}))}))})},J=function(e){var t=e.stats,c=e.user;return Object(g.jsxs)("div",{children:[function(){if(!c)return Object(g.jsx)(g.Fragment,{});var e=c.bioLink,t=c.uniqueId,a=c.nickname,n=c.avatarLarger,r=c.signature;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Q,{className:"profile-avatar",name:t,nickName:a,avatar:n}),Object(g.jsx)(b.a,{variant:"body1",component:"p",children:r}),e&&Object(g.jsx)(V.a,{href:e.link,children:e.link})]})}(),function(){if(!t)return Object(g.jsx)(g.Fragment,{});var e=t.followingCount,c=t.followerCount,a=t.videoCount,n=t.heartCount;return Object(g.jsxs)("div",{className:"profile-icon-group",children:[Object(g.jsx)(M,{disabled:!0,number:n,text:"Hearts"}),Object(g.jsx)(M,{number:a,text:"Videos",icon:"play_circle",color:"info"}),Object(g.jsx)(M,{number:c,text:"Followers",icon:"visibility",color:"success"}),Object(g.jsx)(M,{number:e,text:"Following",icon:"face",color:"default"})]})}()]})};J.defaultProps={stats:void 0,user:void 0};var K=J,W=function(e){var t=e.videos;return Object(g.jsx)("div",{className:"video-grid",children:t&&t.map((function(e){return function(e){var t=e.videoUrl,c=e.playCount;return Object(g.jsxs)("div",{className:"user-video-container",children:[Object(g.jsx)(P,{controls:!1,videoUrl:t,className:"user-video-display"}),Object(g.jsxs)("div",{className:"user-video-info",children:[Object(g.jsx)(U.a,{fontSize:"large",children:"play_arrow"}),Object(g.jsx)("span",{children:R(c)})]})]},t)}(e)}))})};W.defaultProps={videos:void 0};var $=W,ee=x.URLS,te=ee.USER_INFO,ce=ee.TRENDING_FEED,ae=function(){var e=Object(s.e)().uniqueId,t=Object(a.useState)(),c=Object(o.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)([]),d=Object(o.a)(i,2),l=d[0],u=d[1];return Object(a.useEffect)((function(){j.a.request(k(te+e)).then((function(e){r(e.data)})).catch((function(e){console.error(e)})),j.a.request(k(ce)).then((function(e){u(e.data)})).catch((function(e){console.error(e)}))}),[e]),Object(g.jsxs)("div",{children:[Object(g.jsx)(K,Object(h.a)({},n)),Object(g.jsx)($,{videos:l})]})},ne=function(){return Object(g.jsx)(s.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(z,{}),Object(g.jsxs)(s.c,{children:[Object(g.jsx)(s.b,{path:"/",element:Object(g.jsx)(B,{})}),Object(g.jsx)(s.b,{path:"/user",children:Object(g.jsx)(s.b,{path:":uniqueId",element:Object(g.jsx)(ae,{})})})]})]})})};i.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(ne,{})}),document.querySelector("#root"))},75:function(e,t,c){},76:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.3bd791a7.chunk.js.map