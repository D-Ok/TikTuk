(this["webpackJsonptik-tuk"]=this["webpackJsonptik-tuk"]||[]).push([[0],{103:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(60),i=c.n(r),s=(c(75),c(76),c(5)),o=c(124),d=c(128),j=c(126),l=c(123),u=c(66),b=c.n(u),O=c(67),f="dave.xp",p={URLS:{TRENDING_FEED:"https://tiktok33.p.rapidapi.com/trending/feed",USER_FEED:"https://tiktok33.p.rapidapi.com/user/feed/",USER_INFO:"https://tiktok33.p.rapidapi.com/user/info/"},HEADERS:{"x-rapidapi-host":"tiktok33.p.rapidapi.com","x-rapidapi-key":"c1257dc04cmshd888bbb072eb770p1f2b8ajsnbf16d4cd1d66"}},v=c(25),h=c.n(v),m=c(18),x=p,N=x.HEADERS,k=(x.URLS,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{method:t,url:e,headers:Object(m.a)(Object(m.a)({},N),c)}}),g=c(127),E=c(1),S=p.URLS.USER_INFO;function y(){var e=Object(O.d)(),t=Object(a.useState)(""),c=Object(s.a)(t,2),n=c[0],r=c[1],i=f;return Object(a.useEffect)((function(){h.a.request(k(S+i)).then((function(e){r(e.data.user.avatarThumb)})).catch((function(e){console.error(e)}))}),[]),Object(E.jsx)(o.a,{position:"fixed",children:Object(E.jsxs)(d.a,{sx:{justifyContent:"space-between"},children:[Object(E.jsx)(j.a,{variant:"h6",component:"div",onClick:function(){return e("/",{replace:!0})},children:"TikTuk"}),Object(E.jsx)("div",{children:Object(E.jsx)(l.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){return e("/user/".concat(i),{replace:!0})},color:"inherit",children:n?Object(E.jsx)(g.a,{alt:i,src:n}):Object(E.jsx)(b.a,{})})})]})})}var z=c(22),w=c.n(z),C=c(9),U=c(129),R=function(e){if(e)switch(!0){case e<1e3:return e;case e<1e6:return Math.floor(e/1e3)+"k";default:return Math.floor(e/1e6)+"m"}},_=function(e){var t=e.disabled,c=e.className,a=e.icon,n=e.number,r=e.color,i=e.text,s=e.fontSize,o=e.iconSize,d=o?{fontSize:o}:{},j=R(n);return Object(E.jsxs)(l.a,{disableRipple:t,disableFocusRipple:t,color:r,"aria-label":"upload picture",component:"span",className:w()(c,"info-icon-container"),children:[Object(E.jsx)(U.a,{fontSize:s,sx:d,children:a}),i&&Object(E.jsxs)("span",{className:"info-icon-text",children:[i,":"]}),j&&Object(E.jsx)("span",{className:"info-icon-text",children:j})]})};_.defaultProps={icon:"favorite",color:"error",fontSize:"medium"};var D=_,F=c(40),M=function(e){var t=e.videoUrl,c=e.isLoad,n=e.playOnView,r=e.muted,i=Object(a.useState)(!1),o=Object(s.a)(i,2),d=o[0],j=o[1],l=Object(a.useRef)(null),u=Object(F.a)({threshold:.6}),b=u.ref,O=u.inView,f=u.entry;Object(a.useEffect)((function(){j(c&&n)}),[c,n]),Object(a.useEffect)((function(){n&&d&&(O?l.current.play():l.current.pause())}),[O,n,t,d,f]);var p=function(){d?l.current.pause():l.current.play(),j(!d)},v=w()("video-button",{"--display":n&&!d&&c});return Object(E.jsxs)("div",{className:"video-element-container",ref:b,children:[Object(E.jsx)("video",{muted:r,loop:!0,onClick:p,src:c?t:"",ref:l,children:" "}),Object(E.jsx)("div",{className:v,onClick:p,children:Object(E.jsx)(D,{color:"default",icon:"play_arrow",iconSize:100})})]})};M.defaultProps={muted:!0,controls:!0,duration:11,height:1024,width:576,videoUrl:"https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr="};var q=M,L=function(e){var t=e.muted,c=e.playOnView,n=e.videoUrl,r=e.className,i=(e.controls,Object(a.useState)(!1)),o=Object(s.a)(i,2),d=o[0],j=o[1],l=Object(F.a)({rootMargin:"100px",triggerOnce:!0}),u=l.ref,b=l.inView;l.entry;Object(a.useEffect)((function(){b&&!d&&j(!0)}),[b,d]);var O=w()(Object(C.a)({},r,!0),"video-container");return Object(E.jsx)("div",{className:O,ref:u,children:Object(E.jsx)(q,{videoUrl:n,isLoad:d,playOnView:c,muted:t})})};L.defaultProps={muted:!0,controls:!0,duration:11,height:1024,width:576,videoUrl:"https://v39-eu.tiktokcdn.com/a2144d6d51de21e456077881018c5f87/61930025/video/tos/useast2a/tos-useast2a-ve-0068c004/c5f6c64a47b04ecd91168fd9d921009c/?a=1233&br=2536&bt=1268&cd=0%7C0%7C1&ch=0&cr=0&cs=0&cv=1&dr=0&ds=3&er=&ft=wZ~R_F5qkag3-I&l=2021111518492901019021807024301368&lr=tiktok_m&mime_type=video_mp4&net=0&pl=0&qs=0&rc=amxqNjQ6ZjtkNzMzNzczM0ApMzo6OTo1NGU1Nzk2OzczO2dxc2ZzcjRfNGxgLS1kMTZzc2BeMjQxNC02XjUwLS8uYjA6Yw%3D%3D&vl=&vr="};var I=L,T=c(130),G=function(e){var t=e.name;return Object(E.jsxs)("span",{children:[Object(E.jsxs)(T.a,{component:"button",href:"#",disabled:!0,underline:"hover",children:["#",t]})," "]})};G.defaultProps={name:""};var Z=G,A=function(e){var t=e.name,c=e.nickName,a=e.avatar,n=e.className,r=Object(O.d)(),i=w()(Object(C.a)({},"".concat(n),!0),"avatar-link-container");return Object(E.jsxs)("div",{className:i,onClick:function(){return r("/user/".concat(t),{replace:!0})},children:[Object(E.jsx)(g.a,{alt:c,src:a,className:"avatar-icon"}),Object(E.jsxs)("div",{className:"avatar-text",children:[Object(E.jsx)(T.a,{href:"#",underline:"hover",children:t}),Object(E.jsx)("span",{className:"avatar-nickname",children:c})]})]})};A.defaultProps={name:"dave.xp",nickName:"Dave XP",avatar:"https://p16-sign-va.tiktokcdn.com/tos-maliva-avt-0068/8dedfc004fb5d07eb5bda02770d198cd~c5_100x100.jpeg?x-expires=1637082000&x-signature=8iQRSKQWKaCtmkpDCoW487iD7hc%3D"};var P=A,V=function(e){var t=e.videoUrl,c=e.videoMeta,n=e.text,r=e.authorMeta,i=e.diggCount,o=e.commentCount,d=e.hashtags,l=Object(a.useState)(300),u=Object(s.a)(l,2),b=u[0],O=u[1];Object(a.useEffect)((function(){var e=.9*(window.innerHeight-64);O(e)}),[]);var f={height:b,width:9*b/8+20};return c?Object(E.jsxs)("div",{className:"post-container",style:f,children:[Object(E.jsx)(I,Object(m.a)(Object(m.a)({},c),{},{videoUrl:t,playOnView:!0})),Object(E.jsxs)("div",{className:"post-info-container",children:[r&&Object(E.jsx)(P,Object(m.a)({},r)),Object(E.jsx)("hr",{className:"post-divider"}),Object(E.jsx)(j.a,{variant:"body1",component:"div",className:"post-text",children:n}),Object(E.jsx)("div",{className:"post-hashtags",children:d.map((function(e){var t=e.id,c=e.name;return Object(E.jsx)(Z,{name:c},t)}))}),Object(E.jsx)("hr",{className:"post-divider"}),Object(E.jsxs)("div",{className:"post-reactions",children:[Object(E.jsx)(D,{number:i}),Object(E.jsx)(D,{icon:"forum",color:"primary",number:o})]})]})]}):Object(E.jsx)(E.Fragment,{})};V.defaultProps={hashtags:[],diggCount:0,commentCount:0};var Q=V,H=p.URLS.TRENDING_FEED,Y=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){h.a.request(k(H)).then((function(e){n(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(E.jsx)(E.Fragment,{children:c.map((function(e){return Object(a.createElement)(Q,Object(m.a)(Object(m.a)({},e),{},{key:e.id}))}))})},B=function(e){var t=e.stats,c=e.user;return Object(E.jsxs)("div",{children:[function(){if(!c)return Object(E.jsx)(E.Fragment,{});var e=c.bioLink;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P,{className:"profile-avatar",name:c.uniqueId,nickName:c.nickname,avatar:c.avatarLarger}),Object(E.jsx)(j.a,{variant:"body1",component:"p",children:c.signature}),e&&Object(E.jsx)(T.a,{href:e.link,children:e.link})]})}(),function(){if(!t)return Object(E.jsx)(E.Fragment,{});var e=t.followingCount,c=t.followerCount,a=t.videoCount,n=t.heartCount;return Object(E.jsxs)("div",{className:"profile-icon-group",children:[Object(E.jsx)(D,{disabled:!0,number:n,text:"Hearts"}),Object(E.jsx)(D,{number:a,text:"Videos",icon:"play_circle",color:"info"}),Object(E.jsx)(D,{number:c,text:"Followers",icon:"visibility",color:"success"}),Object(E.jsx)(D,{number:e,text:"Following",icon:"face",color:"default"})]})}()]})},X=c(13),J=function(e){var t=e.videos;return Object(E.jsx)("div",{className:"video-grid",children:t&&t.map((function(e){var t=e.videoUrl,c=e.playCount;return Object(E.jsxs)("div",{className:"user-video-container",children:[Object(E.jsx)(I,{controls:!1,videoUrl:t,className:"user-video-display"}),Object(E.jsxs)("div",{className:"user-video-info",children:[Object(E.jsx)(U.a,{fontSize:"large",children:"play_arrow"}),Object(E.jsx)("span",{children:R(c)})]})]})}))})};J.protoTypes={videos:X.arrayOf(X.shape({videoUrl:X.string,playCount:X.number}))};var K=J,W=p.URLS,$=W.USER_INFO,ee=(W.USER_FEED,W.TRENDING_FEED),te=function(){var e=Object(O.e)().uniqueId,t=Object(a.useState)(null),c=Object(s.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),d=o[0],j=o[1];return Object(a.useEffect)((function(){h.a.request(k($+e)).then((function(e){r(e.data)})).catch((function(e){console.error(e)})),h.a.request(k(ee)).then((function(e){j(e.data)})).catch((function(e){console.error(e)}))}),[e]),Object(E.jsxs)("div",{children:[Object(E.jsx)(B,Object(m.a)({},n)),Object(E.jsx)(K,{videos:d})]})};var ce=function(){return Object(E.jsx)(O.a,{children:Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(y,{}),Object(E.jsxs)(O.c,{children:[Object(E.jsx)(O.b,{path:"/",element:Object(E.jsx)(Y,{})}),Object(E.jsx)(O.b,{path:"/user",children:Object(E.jsx)(O.b,{path:":uniqueId",element:Object(E.jsx)(te,{})})})]})]})})};i.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(ce,{})}),document.getElementById("root"))},75:function(e,t,c){},76:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.cea593c4.chunk.js.map